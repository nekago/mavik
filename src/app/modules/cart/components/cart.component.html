<app-breadcrumbs></app-breadcrumbs>

<section class="cart" *ngIf="!isMobile">
  <div class="container" *ngIf="cartList.length; else emptyCart">
    <div class="cart__title">
      <img src="assets/icons/title-icon/cart-icon.svg" alt="cart-icon">
      <h1 class="title title-one">Кошик</h1>
    </div>
    <div class="cart__inner" >
      <div class="cart__item" *ngFor="let item of cartList">
        <img class="cart__item-img" [src]="item?.image" [alt]="item?.name">
        <div class="cart__item-name" (click)="goToProduct(item)">{{item.name}}</div>
        <div class="price-block">
          <div class="price-block__sale" *ngIf="item?.sale_price"><i class="fas fa-hryvnia"></i>{{item?.price}}
          </div>
          <div class="price-block__price"><i class="fas fa-hryvnia"></i>{{item?.sale_price || item?.price}}
          </div>
        </div>
        <app-product-counter [isDelete]="true" [product]="item" [count]="item.count"></app-product-counter>
        <button class="cart__item-btn" (click)="removeItemFormCart(item)">
        </button>
      </div>
    </div>

    <div class="cart__controller">
      <button class="cart__controller-back btn" [routerLink]="backToShoppingLink">Повернутися до покупок</button>
      <div class="cart__controller-sum">
        Разом: <span><i class="fas fa-hryvnia"></i>{{totalPrice + '.00'}}</span>
      </div>
      <button class="cart__controller-issue btn" routerLink="/checkout">Оформити замовлення</button>
    </div>

    <div class="cart__message">
      <p>Шановні покупці, зверніть увагу, що продаж позицій відбувається лише поштучно. <br>
        Фактична вага може несуттєво відрізнятися від зазначеної в описі товару.<br>
        Кінцева вартість замовлення буде узгоджена з Вами після опрацювання замовлення.</p>
    </div>
  </div>

</section>

<section class="mobile-cart" *ngIf="isMobile">
  <div class="container" *ngIf="cartList.length; else emptyCart">
    <div class="mobile-cart__title">
      <img src="assets/icons/title-icon/cart-icon.svg" alt="cart-icon">
      <h1 class="title title-one">Кошик</h1>
      <button class="mobile-cart__controller-back btn" [routerLink]="backToShoppingLink">Повернутися до покупок</button>
    </div>
    <div class="mobile-cart__inner" >

      <div class="mobile-cart__item" *ngFor="let item of cartList">
        <div class="mobile-cart__top">
          <img class="mobile-cart__item-img" [src]="item?.image" [alt]="item?.name">
          <div class="mobile-cart__item-name" (click)="goToProduct(item)">{{item.name}}</div>
          <button class="mobile-cart__item-btn" (click)="removeItemFormCart(item)"></button>
        </div>

        <div class="mobile-cart__bottom">
          <app-product-counter [isDelete]="true" [product]="item" [count]="item.count"></app-product-counter>
          <div class="price-block">
            <div class="price-block__sale" *ngIf="item?.sale_price"><i class="fas fa-hryvnia"></i>{{item?.price}}
            </div>
            <div class="price-block__price"><i class="fas fa-hryvnia"></i>{{item?.sale_price || item?.price}}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mobile-cart__controller">
      <div class="mobile-cart__controller-sum">Разом: <span><i class="fas fa-hryvnia"></i>{{totalPrice + '.00'}}</span></div>
      <button class="mobile-cart__controller-issue btn" routerLink="/checkout">Оформити замовлення</button>
    </div>

    <div class="mobile-cart__message">
      <p>Шановні покупці, зверніть увагу, що продаж позицій відбувається лише поштучно. <br>
        Фактична вага може несуттєво відрізнятися від зазначеної в описі товару.<br>
        Кінцева вартість замовлення буде узгоджена з Вами після опрацювання замовлення.</p>
    </div>

  </div>

</section>

<ng-template #emptyCart>
  <div class="container">
    <div class="cart__empty">
      <i class="fas fa-shopping-cart"></i>
      <div class="cart__empty-text">
        У вашому кошику немає товарів
      </div>
      <button class="btn" [routerLink]="backToShoppingLink">Повернутися до покупок</button>
    </div>
  </div>
</ng-template>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
